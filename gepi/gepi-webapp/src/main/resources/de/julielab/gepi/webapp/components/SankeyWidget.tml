<!DOCTYPE html>
<div xmlns:t="http://tapestry.apache.org/schema/tapestry_5_4.xsd" t:type="gepiwidgetlayout"
     widgettitle="${widgetTitle}" t:clientId="${elementId}-outer" class="${classes}"
     sizeClass="small" esResult="esResult" resultType="AGGREGATED" neo4jResult="neo4jResult"
     useTapestryZoneUpdates="false" requestData="requestData" waitForData="true" resizable="true">
    <!-- useTapestryZoneUpdates should be false for all JavaScript-based widgets. They just receive data from the
    server which is sent once and can then be reused. Updating the whole widget via Ajax basically resets it
    which can cause issues with HTML elements which are renewed and then not found in JavaScript any more. -->

    <!-- the following is rendered within GepiWidgetLayout.tml in a bootstrap card-body element; the widget is a bootstrap card -->
    <!-- Sankey widgets manage themselves in JavaScript, thus we always render all elements independently from the view mode -->
    <div class="row full-height">
        <!-- The col-xy class is controlled in sankeychart.js when resizing the widget -->
        <div class="col-12 text-center h-100 mx-auto">
            <div id="${elementId}" class="chart-area h-100"/>
        </div>
        <!-- put the controls first when the screen size forces us to stack the chart and the controls -->
        <div class="col-auto mx-auto order-sm-first order-lg-last">
            <div id="${elementId}-container">
                <div class="settings">
                    <div class="sliders"></div>
                    <div class="checkboxes"></div>
                    <div class="buttons"></div>
                </div>
            </div>
        </div>
    </div>
</div>