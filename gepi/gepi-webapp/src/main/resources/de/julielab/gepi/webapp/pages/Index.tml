<html t:type="layout" title="GePI Index"
      xmlns:t="http://tapestry.apache.org/schema/tapestry_5_4.xsd">
    <body class="${bodyScrollClass}">
        <!-- Although the input column is not a part of the grid, we give the row class for correct spacing.
             When we don't do this, the input area won't completely vanish from the screen when hiding. -->
        <div id="inputrow" class="row">
            <div id="inputfetcharea"/>
            <div id="inputcol" class="">
                <t:zone t:id="inputzone" id="inputzone">
                    <div class="h-100">
                    <t:gepiinput dataSessionId="dataSessionId" requestData="requestData"/>
                    </div>
                </t:zone>
            </div>
        </div>
        <div id="disableplane" class="fade"/>
        <div id="largewidget-backdrop" class="fade"/>
        <div id="outputrow" class="row">
            <div id="outputcol" class="col-12 fade ${showOutputClass}">
                <t:zone t:id="outputzone" id="outputzone">
                    <t:if test="requestData">
                        <div class="row">
                            <t:statswidget class="col-sm-12 col-lg-${statsLgColSize} col-xxl-${statsXxlColSize} col-xxxl-${statsXxxlColSize} mt-3" requestData="requestData"/>
                            <t:piechartwidget class="col-sm-6 col-lg-${pieLgColSize}  col-xxl-${pieXxlColSize} col-xxxl-${pieXxxlColSize} mt-3" requestData="requestData" elementId="piechart"/>
                            <t:barchartwidget class="col-sm-6 col-xxl-${barXxlColSize} col-xxxl-${barXxxlColSize} mt-3" requestData="requestData" elementId="barchart"/>
                            <t:sankeywidget class="col-sm-6 col-xxl-${sankeyXxlColSize} col-xxxl-${sankeyXxxlColSize} mt-3" requestData="requestData" elementId="sankeychart" commonPartners="false"/>
                            <t:sankeywidget class="col-sm-6 col-lg-${sankeyComLgColSize} col-xxl-${sankeyXxlColSize} col-xxxl-${sankeyXxxlColSize}  mt-3" requestData="requestData" elementId="sankeychartcommonpartners" commonPartners="true" />
                        </div>
                        <div class="row mt-3">
                            <t:tableresultwidget class="col-12" requestData="requestData"/>
                        </div>
                    </t:if>
                </t:zone>
            </div>
        </div>
        <div class="modal fade" id="downloadModal" tabindex="-1" aria-labelledby="downloadModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="downloadModalLabel">Interaction download</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <p>Interaction data is being assembled. This can take a few minutes. Please wait for the download dialog to appear.</p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>
