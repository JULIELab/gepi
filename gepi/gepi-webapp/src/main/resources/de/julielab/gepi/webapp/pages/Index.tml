<html t:type="layout" title="GePI Index"
      xmlns:t="http://tapestry.apache.org/schema/tapestry_5_4.xsd">
    <body class="${bodyScrollClass}">
        <!-- Although the input column is not a part of the grid, we give the row class for correct spacing.
             When we don't do this, the input area won't completely vanish from the screen when hiding. -->
        <div id="inputrow" class="row">
            <div id="inputfetcharea"/>
            <div id="inputcol" class="">
                <t:zone t:id="inputzone" id="inputzone">
                    <t:gepiinput dataSessionId="dataSessionId" requestData="requestData"/>
                </t:zone>
            </div>
        </div>
        <div id="disableplane" class="fade"/>
        <div id="outputrow" class="row">
            <div id="outputcol" class="col-12 fade ${showOutputClass}">
                <t:zone t:id="outputzone" id="outputzone">
                    <t:if test="requestData">
                        <div id="widgetOverlay" class="fade ${widgetOverlayShowClass}"/>
                        <div class="row">
                            <t:piechartwidget class="col-6" requestData="requestData" elementId="piechart"/>
                            <t:barchartwidget class="col-6" requestData="requestData" elementId="barchart"/>
<!--                                                    <t:piechartwidget result="result" class="col-md-4" />-->
                        </div>
                <div class="row mt-3">
                            <t:sankeywidget class="col-6" requestData="requestData" elementId="sankeychart"
                                            commonPartners="false"/>
                            <t:sankeywidget class="col-6" requestData="requestData" elementId="sankeychartcommonpartners" commonPartners="true" />
                            <!--                            <t:circlewidget class="col-4" requestData="requestData" elementId="circlechart"/>-->
                            <!--                        <t:sankeywidget result="result" class="col-md-4" elementId="sankeychart" commonPartners="false" />-->
                            <!--                        <t:sankeywidget result="result" class="col-md-4" elementId="sankeychartcommonpartners" commonPartners="true" />-->
                            <!--                        <t:circlewidget result="result" class="col-md-4" elementId="circlechart" />-->
                        </div>
<!--                        <div class="row mt-3">-->
<!--                            <t:statswidget class="col-12" requestData="requestData"/>-->
<!--                        </div>-->
                        <div class="row mt-3">
                            <t:tableresultwidget class="col-12" requestData="requestData"/>
                        </div>
                    </t:if>
                </t:zone>
            </div>
        </div>
        <div class="modal fade" id="downloadModal" tabindex="-1" aria-labelledby="downloadModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="downloadModalLabel">Interaction download</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <p>Interaction data is being assembled. This can take a few minutes. Please wait for the download dialog to appear.</p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>
